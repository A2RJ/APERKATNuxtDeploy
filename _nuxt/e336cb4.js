(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{568:function(t,e,r){"use strict";r.r(e);var n=r(0),l=r(23),o=(r(69),r(1),r(47),r(50),r(5),r(4),r(2),r(6),r(3),r(7),r(46));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={asyncData:function(t){return Object(l.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,e.next=3,Promise.all([r.dispatch("user/getuser")]);case 3:return e.abrupt("return");case 4:case"end":return e.stop()}}),e)})))()},data:function(){return{key:"id_user",actions:[{name:"Tambah",type:"link",link:"user/add",color:"btn btn-sm btn-outline-primary mt-1 ml-2"},{name:"Reset",type:"func",func:"reset",color:"btn btn-sm btn-outline-primary mt-1 ml-2"}],fields:[{key:"fullname",label:"User"},{key:"nama_struktur",label:"Pelaksana"},{key:"created_at",label:"Register Date"},"Action"],items:[],filter:"",currentPage:1,perPage:10,totalRows:0}},computed:m({},Object(o.d)("user",{user:function(t){return t.user}})),mounted:function(){this.items=this.user,this.totalRows=this.items.length},methods:m(m({},Object(o.b)("user",["getuser","deleteuser"])),{},{onFiltered:function(t){},deleteUser:function(t){var e=this;this.$swal({title:"Warning!",text:"Yakin menghapus user ini?",icon:"warning",width:300,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"OK"}).then((function(r){r.isConfirmed&&e.deleteuser(t.item.id_user).then(Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.reload();case 2:e.$swal({width:300,icon:"success",title:"Congrats!",text:"User data telah dihapus"}),e.$nuxt.refresh();case 4:case"end":return t.stop()}}),t)})))).catch((function(){e.$swal({width:300,icon:"error",title:"Oops...",text:"Cek server atau koneksi anda"})}))}))},deleteAll:function(){var t=this;this.$swal({title:"Warning!",text:"Yakin menghapus user ini?",icon:"warning",width:300,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"OK"}).then((function(e){e.isConfirmed&&t.$axios.post("/user/destroy").then((function(){t.$swal({width:300,icon:"success",title:"Congrats!",text:"User data telah dihapus"}),t.$nuxt.refresh()})).catch((function(){t.$swal({width:300,icon:"error",title:"Oops...",text:"Cek server atau koneksi anda"})}))}))}})},d=r(44),component=Object(d.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card shadow mb-4"},[t._m(0),t._v(" "),r("div",{staticClass:"card-body"},[r("b-row",[r("b-col",{staticClass:"my-1 flot-right",attrs:{lg:"6"}}),t._v(" "),r("b-col",{staticClass:"my-1 flot-right",attrs:{lg:"6"}},[r("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),r("b-input-group-append",[r("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1)],1),t._v(" "),r("b-table",{attrs:{filter:t.filter,"current-page":t.currentPage,"per-page":t.perPage,striped:"",hover:"",items:t.items,fields:t.fields},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(fullname)",fn:function(e){return[r("p",[t._v(t._s(t._f("capitalize")(e.item.fullname)))])]}},{key:"cell(created_at)",fn:function(e){return[r("p",[t._v(t._s(t._f("convertDate")(e.item.created_at)))])]}},{key:"cell(nama_struktur)",fn:function(e){return["0"!==e.item.nama_struktur&&"0"==e.item.nama_struktur_child1&&"0"==e.item.nama_struktur_child2?r("p",{staticClass:"text-uppercase"},[t._v("\n          "+t._s(e.item.nama_struktur)+"\n        ")]):t._e(),t._v(" "),"0"!==e.item.nama_struktur&&"0"!==e.item.nama_struktur_child1&&"0"==e.item.nama_struktur_child2?r("p",{staticClass:"text-uppercase"},[t._v("\n          "+t._s(e.item.nama_struktur)+"\n        ")]):t._e(),t._v(" "),"0"!==e.item.nama_struktur&&"0"!==e.item.nama_struktur_child1&&"0"!==e.item.nama_struktur_child2?r("p",{staticClass:"text-uppercase"},[t._v("\n          "+t._s(e.item.nama_struktur_child1)+"\n        ")]):t._e()]}},{key:"cell(Action)",fn:function(e){return[r("NuxtLink",{key:"edit"+e.index,staticClass:"btn btn-sm btn-outline-info mt-1",attrs:{to:"user/edit/"+e.item.id_user}},[t._v("Ubah")]),t._v(" "),r("button",{staticClass:"btn btn-sm btn-outline-danger mt-1",on:{click:function(r){return t.deleteUser(e)}}},[t._v("\n          Hapus\n        ")])]}}])},[t._v('\n      :items="items" :fields="fields">\n      ')]),t._v(" "),r("b-row",[r("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[r("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-header py-3"},[r("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v("User")])])}],!1,null,null,null);e.default=component.exports}}]);