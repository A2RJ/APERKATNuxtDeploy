(window.webpackJsonp=window.webpackJsonp||[]).push([[39,14],{349:function(t,e,n){var content=n(351);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(57).default)("150a8ba8",content,!0,{sourceMap:!1})},350:function(t,e,n){"use strict";n(349)},351:function(t,e,n){var r=n(56)(!1);r.push([t.i,"table#table-transition-example .flip-list-move{transition:transform 1s}",""]),t.exports=r},352:function(t,e,n){"use strict";n.r(e);n(5),n(4),n(6),n(3),n(7);var r=n(0),l=(n(2),n(1),n(46));function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={props:["items","fields","html","perYearFilterState","tableName","actions"],data:function(){return{transProps:{name:"flip-list"},id:this.html,fieldsTable:["index"],selectMode:"multi",selected:[],selectAll:!1,checked:!0,currentPage:1,perPage:10,pageOptions:[10,15,20,25,{value:100,text:"Show a lot"}],filter:null,countRows:0,perYear:"",yearOption:[]}},computed:c({totalRows:function(){var t=this;return""==this.perYear?this.items.length:this.items.filter((function(e){return e.period.substring(0,4)==t.perYear})).length}},Object(l.d)("customTable",{success:function(t){return t.success},errors:function(t){return t.errors}})),mounted:function(){for(var t=0;t<this.fields.length;t++)this.fieldsTable.push(this.fields[t]);this.filterYear()},methods:c(c({},Object(l.b)("customTable",["action"])),{},{reload:function(t){this.items=t},onRowSelected:function(t){this.selected=t},selectAllRows:function(){this.$refs.selectableTable.selectAllRows(),this.selectAll=!0},clearSelected:function(){this.$refs.selectableTable.clearSelected(),this.selectAll=!1},onFiltered:function(t){this.countRows=t.length,this.currentPage=1},toCellName:function(slot){return"cell(".concat(slot,")")},getAllSelected:function(){for(var a=[],t=0;t<this.selected.length;t++)a.push(this.selected[t][this.id]);return a},functionIndex:function(t,link){if("deleteAll"==t)this.$parent.deleteAll();else if("print"==t){for(var e=[],n=0;n<this.items.length;n++)e.push(this.items[n][this.id]);this.$parent.print(e)}else if("importRKAT"==t)this.$parent.importRKAT();else if("selectAll"==t)this.selectAllRows();else if("clearSelected"==t)this.clearSelected();else if("deleteSelected"==t){this.getAllSelected().length>0&&this.$parent.deleteRows(this.getAllSelected())}else if("printSelected"==t){this.getAllSelected().length>0&&this.$parent.print(this.getAllSelected())}},filterYear:function(){for(var t=(new Date).getFullYear(),e=[{value:"",text:"All"}],n=2021;n<=t;n++)e.push({value:n,text:n});this.yearOption=e,this.perYear=t}}),watch:{selectAll:function(){this.selectAll?this.selectAllRows():this.clearSelected()},items:function(){this.filterYear()}}},m=(n(350),n(44)),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",{staticClass:"my-1",attrs:{lg:"6"}},t._l(t.actions,(function(e){return n("span",{key:e.name},["link"==e.type?n("NuxtLink",{class:e.color,attrs:{to:e.link}},[t._v(t._s(e.name))]):n("button",{class:e.color,attrs:{size:"sm"},on:{click:function(n){return t.functionIndex(e.func)}}},[t._v("\n          "+t._s(e.name)+"\n        ")])],1)})),0),t._v(" "),n("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[n("b-row",[n("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[n("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"years","label-cols-sm":"6","label-cols-md":"4","label-cols-6":"","label-align-sm":"right","label-size":"sm"}},[n("b-form-select",{attrs:{id:"years",options:t.yearOption,size:"sm"},model:{value:t.perYear,callback:function(e){t.perYear=e},expression:"perYear"}})],1)],1),t._v(" "),n("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[n("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-for":"per-page-select","label-cols-sm":"6","label-cols-md":"4","label-cols-6":"","label-align-sm":"right","label-size":"sm"}},[n("b-form-select",{attrs:{id:"per-page-select",options:t.pageOptions,size:"sm"},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),t._v(" "),n("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[n("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[n("b-input-group",{attrs:{size:"sm"}},[n("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),n("b-input-group-append",[n("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1)],1)],1)],1),t._v(" "),n("b-table",{ref:"selectableTable",attrs:{items:""==t.perYear?t.items:t.items.filter((function(e){return e.period.substring(0,4)==t.perYear})),fields:t.fieldsTable,"select-mode":t.selectMode,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,bordered:!0,responsive:"","head-variant":"light",id:"table-transition-example","tbody-transition-props":t.transProps,hover:"","show-empty":"",selectable:"",selectedVariant:"success",small:""},on:{filtered:t.onFiltered,"row-selected":t.onRowSelected},scopedSlots:t._u([{key:"head(index)",fn:function(){return[n("span",{attrs:{"aria-hidden":"true"}},[n("b-form-checkbox",{attrs:{name:"check-button"},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}},[t._v("No.")])],1)]},proxy:!0},{key:"cell(index)",fn:function(data){return[data.rowSelected?n("b-form-checkbox",{attrs:{disabled:""},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("\n        "+t._s(data.index+1)+"\n      ")]):n("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(data.index+1))])]}},t._l(Object.keys(t.$scopedSlots),(function(slot){return{key:t.toCellName(slot),fn:function(e){return[t._t(slot,null,null,e)]}}}))],null,!0)}),t._v(" "),n("b-row",[n("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[n("b-pagination",{staticClass:"my-0",attrs:{"total-rows":0!==t.countRows&&t.countRows<t.totalRows?t.countRows:t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},574:function(t,e,n){"use strict";n.r(e);n(5),n(4),n(6),n(3),n(7);var r=n(0),l=n(23),o=(n(69),n(1),n(47),n(50),n(16),n(15),n(11),n(19),n(2),n(46));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={asyncData:function(t){return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.next=3,Promise.all([n.dispatch("subordinate/pengajuanNeedApproved",n.$auth.$state.user[0].id_user),n.dispatch("subordinate/getsubordinates",n.$auth.$state.user[0].id_user),n.dispatch("subordinate/pengajuanSelesai",n.$auth.$state.user[0].id_user)]);case 3:return e.abrupt("return");case 4:case"end":return e.stop()}}),e)})))()},data:function(){return Object(r.a)({key:"id_pengajuan",actions:[],fields:[{key:"fullname",label:"User"},{key:"kode_rkat",label:"Kode RKAT "},{key:"nama_struktur",label:"Pelaksana"},{key:"biaya_program",label:"Biaya Program"},{key:"periode_pencairan",label:"Periode Pencairan"},{key:"biaya_disetujui",label:"Biaya Disetujui"},{key:"created_at",label:"Tanggal Pengajuan"},"actions"],fieldsSekniv:[{key:"kode_rkat",label:"Kode RKAT"},{key:"rkat",label:"Nama Program"},{key:"tanggal",label:"Waktu Pelaksanaan"},{key:"biaya_program",label:"RAB diajukan"},{key:"biaya_disetujui",label:"RAB disetujui"},{key:"pencairan",label:"Pencairan"},{key:"lpj_keuangan",label:"LPJ Keuangan"},{key:"lpj_kegiatan",label:"LPJ Kegiatan"},{key:"created_at",label:"Tanggal Pengajuan"},"actions"],fieldsListPencairanFormat:[{key:"kode_rkat",label:"Kode RKAT"},{key:"rkat",label:"Nama Program"},{key:"tanggal",label:"Waktu Pelaksanaan"},{key:"biaya_program",label:"RAB diajukan"},{key:"biaya_disetujui",label:"RAB disetujui"},{key:"bank",label:"Bank"},{key:"no_rek",label:"No Rek"},{key:"atn",label:"Atas Nama"},{key:"created_at",label:"Tanggal Pengajuan"},"actions"],listOnProggress:[],itemsneed:[],itemsAddListPencairan:[],data:[],filter1:null,filter2:null,itemsSelesai:[],itemsCadangan:[],listLPJKegiatan:[],belumLPJKegiatan:[],listPeriodePencairan:[],selected:null,options:[{value:null,text:"Please select an option"}],period:null,selectedPeriod:null,biaya_disetujui_keuangan:null,userLogin:this.$store.state.auth.user[0].id_user},"selected",{value:null,text:null,created_at:null})},computed:d({},Object(o.d)("subordinate",{subordinate:function(t){return t.subordinate},subordinateneed:function(t){return t.subordinateneed},peng:function(t){return t.pengajuanDir}})),mounted:function(){this.listOnProggress=this.subordinate,this.userLogin,this.itemsneed=this.subordinateneed,this.itemsSelesai=this.peng,this.itemsCadangan=this.peng,21==this.userLogin&&(this.getLPJKegiatan(),this.getBelumLPJKegiatan()),(21==this.userLogin||22==this.userLogin||23==this.userLogin|24==this.userLogin)&&this.getPeriod()},methods:d(d({},Object(o.b)("subordinate",["getpengajuan","pengajuanSelesai","approved"])),{},{editListener:function(){},editRowHandler:function(data){this.itemsAddListPencairan[data.index].isEdit=!this.itemsAddListPencairan[data.index].isEdit,this.itemsAddListPencairan.map((function(t){t.id_pengajuan!=data.item.id_pengajuan&&(t.isEdit=!1)})),this.biaya_disetujui_keuangan=null},submitRowHandler:function(data){var t=this;this.itemsAddListPencairan[data.index].isEdit=!this.itemsAddListPencairan[data.index].isEdit,this.$axios.get("/period/".concat(data.item.id_pengajuan,"/").concat(this.biaya_disetujui_keuangan.replace(/[^0-9]/g,""))).then((function(e){t.getNeedApproved(),t.getItemForListPencairan(),console.log("success edit biaya disetujui")})).catch((function(t){console.log(t)}))},refresh:function(){this.$nuxt.refresh(),this.selectPeriod()},addPeriod:function(){var t=this;this.period&&this.$axios.post("/period",{period:this.period}).then((function(e){t.period=null,t.getPeriod()}))},getPeriod:function(){var t=this;this.$axios.get("/period").then((function(e){for(var n=0;n<e.data.data.length;n++)t.options.push(e.data.data[n]);t.selected.text=t.options[t.options.length-1].text,t.selected.created_at=t.options[t.options.length-1].created_at,t.$axios.get("period/getByAtasan/".concat(t.userLogin,"/").concat(t.options[t.options.length-1].value)).then((function(e){t.listPeriodePencairan=e.data.data}))})).catch((function(t){console.log(t)}))},selectPeriod:function(){var t=this,e=this.options.filter((function(e){return e.value==t.selectedPeriod}));this.selected.text=e[0].text,this.selected.created_at=e[0].created_at,21==this.userLogin||22==this.userLogin||23==this.userLogin?this.$axios.get("period/getByAtasan/".concat(this.userLogin,"/").concat(this.selectedPeriod)).then((function(e){t.listPeriodePencairan=e.data.data})):this.$axios.get("period/".concat(this.selectedPeriod)).then((function(e){t.listPeriodePencairan=e.data.data}))},addToList:function(t){var e=this;this.selectedPeriod&&t.biaya_disetujui?this.$axios.post("/period/addList",{id_pengajuan:t.id_pengajuan,id_period:this.selectedPeriod,message:"List pencairan",status_validasi:2,id_struktur:24,nama_status:"Direktorat Keuangan",next:23}).then((function(n){if(n.data){var r=e.itemsneed.filter((function(i){return i.id_pengajuan!==t.id_pengajuan}));e.itemsneed=r,e.getItemForListPencairan(),e.selectPeriod()}})).catch((function(t){console.log(t),e.failed("Whoops...")})):this.failed("Select period dan input biaya disetujui")},deleteFromList:function(t){var e=this;this.$axios.post("/period/addList",{id_pengajuan:t,id_period:null,message:"List pencairan (Pending)",status_validasi:0,id_struktur:24,nama_status:"Direktorat Keuangan",next:24}).then((function(t){t.data&&(e.getNeedApproved(),e.selectPeriod())})).catch((function(t){e.failed("Whoops...")}))},approveAll:function(){var t=this;this.$swal({title:"Warning!",text:"Setujui list pencairan ini?",icon:"warning",width:300,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"OK"}).then(function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=13;break}t.loader("loading..."),r=t.userLoin,23==t.userLogin&&(r=22),22==t.userLogin&&(r=24),l=0;case 6:if(!(l<t.listPeriodePencairan.length)){e.next=12;break}return e.next=9,t.approved({id:t.listPeriodePencairan[l].id_pengajuan,message:t.message,status_validasi:2,id_struktur:t.userLogin,nama_status:t.$store.state.auth.user[0].fullname,next:r}).then((function(){t.$nuxt.refresh()})).catch((function(){t.failed("Whoops Server Error")}));case 9:l++,e.next=6;break;case 12:t.success("Berhasil terima pengajuan");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},printAll:function(){for(var t=this,e=[],n=0;n<this.listPeriodePencairan.length;n++)e.push(this.listPeriodePencairan[n].id_pengajuan);this.$axios.post("/pengajuan/pdfByUSer/"+this.$store.state.auth.user[0].id_user,e).then((function(){window.open("https://aperkat.uts.ac.id/api/g/"+btoa(t.$store.state.auth.user[0].id_user))}))},getNeedApproved:function(){var t=this;this.$axios.get("/pengajuan/pengajuanNeedApproved/".concat(this.userLogin)).then((function(e){t.itemsneed=e.data.data.map((function(t){return d(d({},t),{},{isEdit:!1})}))}))},runYearFilter:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.itemsAddListPencairan=[],t.getItemForListPencairan();case 2:case"end":return e.stop()}}),e)})))()},rowClass:function(t,e){if(t&&"row"===e)return 0===t.status_message?"table-success":void 0},filter:function(){if(this.filter1&&this.filter2){var t=new Date(this.filter1),e=new Date(this.filter2),n=[];if(this.itemsSelesai.length>this.itemsCadangan.length)n=this.itemsSelesai;else n=this.itemsCadangan;n=n.filter((function(a){return new Date(a.created_at)>=t&&new Date(a.created_at)<=e})),this.itemsSelesai=n}else this.reset()},reset:function(){this.listOnProggress=this.itemsCadangan},getItemForListPencairan:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$axios.get("/pengajuan/getItemForListPencairan").then((function(e){e.data&&(t.itemsAddListPencairan=e.data.map((function(t){return d(d({},t),{},{isEdit:!1})})))})).catch((function(t){console.log(t)}));case 1:case"end":return e.stop()}}),e)})))()},getLPJKegiatan:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$axios.get("/pengajuan/lpjKegiatan").then((function(e){t.listLPJKegiatan=e.data.data})).catch((function(t){console.log(t)}));case 1:case"end":return e.stop()}}),e)})))()},getBelumLPJKegiatan:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$axios.get("/pengajuan/belumLPJKegiatan").then((function(e){t.belumLPJKegiatan=e.data.data}));case 1:case"end":return e.stop()}}),e)})))()},aprroveLPJKegiatan:function(t){var e=this;this.$swal({title:"Warning!",text:"Terima LPJ Kegiatan ?",input:"text",inputAttributes:{autocapitalize:"off"},icon:"warning",width:300,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"OK",preConfirm:function(t){}}).then(function(){var n=Object(l.a)(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.isConfirmed&&(e.loader("loading..."),e.approved({id:t,message:r.value,status_validasi:4,id_struktur:21,nama_status:e.$store.state.auth.user[0].fullname,next:3333}).then(Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.success("Berhasil terima pengajuan"),e.$nuxt.refresh();case 2:case"end":return t.stop()}}),t)})))).catch((function(){e.failed("Whoops Server Error")})));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())},declineLPJKegiatan:function(t){var e=this;this.$swal({title:"Warning!",text:"Tolak LPJ Kegiatan ?",input:"text",inputAttributes:{autocapitalize:"off"},icon:"warning",width:300,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"OK",preConfirm:function(t){}}).then(function(){var n=Object(l.a)(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.isConfirmed&&(e.loader("loading..."),e.approved({id:t,message:r.value,status_validasi:0,id_struktur:21,nama_status:e.$store.state.auth.user[0].fullname,next:21}).then(Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.success("Berhasil tolak pengajuan"),e.$nuxt.refresh();case 2:case"end":return t.stop()}}),t)})))).catch((function(){e.failed("Whoops Server Error")})));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())},success:function(t){this.$swal({width:300,icon:"success",title:"Congrats!",text:t})},failed:function(t){this.$swal({width:300,icon:"error",title:"Oops...",text:t})},loader:function(t){this.$swal({title:"Please wait",width:300,text:t,imageUrl:"/Rocket.gif",showConfirmButton:!1,allowOutsideClick:!0})}}),watch:{filter1:function(){this.filter()},filter2:function(){this.filter()}}},f=m,_=n(44),component=Object(_.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row card shadow mb-4"},[n("div",{staticClass:"col-xl-12 col-lg-12 card-body"},[n("b-tabs",{attrs:{"content-class":"mt-3"}},[23!==t.userLogin?n("b-tab",{attrs:{title:"Need Approval",active:""}},[n("custom-table",{attrs:{items:t.itemsneed,fields:t.fields,html:t.key,actions:t.actions},scopedSlots:t._u([{key:"fullname",fn:function(e){return[n("p",[t._v(t._s(t._f("capitalize")(e.item.fullname)))]),t._v(" "),n("b-badge",{attrs:{variant:t._f("validasiStatus")(e.item.validasi_status)}},[t._v("\n              "+t._s(t._f("validasiDetail")(e.item.validasi_status))+"\n              "+t._s(e.item.nama_status)+"\n            ")])]}},{key:"nama_struktur",fn:function(e){return["0"!==e.item.nama_struktur&&"0"==e.item.nama_struktur_child1&&"0"==e.item.nama_struktur_child2?n("p",{staticClass:"text-uppercase"},[t._v("\n              "+t._s(e.item.nama_struktur)+"\n            ")]):t._e(),t._v(" "),"0"!==e.item.nama_struktur&&"0"!==e.item.nama_struktur_child1&&"0"==e.item.nama_struktur_child2?n("p",{staticClass:"text-uppercase"},[t._v("\n              "+t._s(e.item.nama_struktur)+"\n            ")]):t._e(),t._v(" "),"0"!==e.item.nama_struktur&&"0"!==e.item.nama_struktur_child1&&"0"!==e.item.nama_struktur_child2?n("p",{staticClass:"text-uppercase"},[t._v("\n              "+t._s(e.item.nama_struktur_child1)+"\n            ")]):t._e()]}},{key:"periode_pencairan",fn:function(e){return[n("p",[t._v("\n              "+t._s(t._f("capitalize")(e.item.periode_pencairan?e.item.periode_pencairan.period:"Sedang diperiksa"))+"\n            ")])]}},{key:"biaya_program",fn:function(e){return[n("p",[t._v("Rp. "+t._s(t._f("currency")(e.item.biaya_program)))])]}},{key:"biaya_disetujui",fn:function(e){return[n("p",[t._v("Rp. "+t._s(t._f("currency")(e.item.biaya_disetujui)))])]}},{key:"created_at",fn:function(e){return[n("p",[t._v(t._s(t._f("convertDate")(e.item.created_at)))])]}},{key:"actions",fn:function(e){return[n("NuxtLink",{key:"edit"+e.index,staticClass:"btn btn-sm btn-outline-info",attrs:{to:"edit/"+e.item.id_pengajuan}},[t._v("Detail")])]}}],null,!1,1642387917)})],1):t._e(),t._v(" "),22==t.userLogin||23==t.userLogin||24==t.userLogin?n("b-tab",{attrs:{title:"List Pencairan"}},[n("div",{staticClass:"m-2 row"},[24==t.userLogin?n("div",{staticClass:"col-sm-6"},[n("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.addPeriod.apply(null,arguments)}}},[n("b-form-group",{attrs:{label:"Input Period","label-for":"period","invalid-feedback":"Period is required"}},[n("b-form-input",{attrs:{id:"period",size:"sm",required:""},model:{value:t.period,callback:function(e){t.period=e},expression:"period"}})],1),t._v(" "),n("button",{staticClass:"btn btn-sm btn-outline-success ml-2"},[t._v("\n                Submit\n              ")]),t._v(" "),24==t.userLogin?n("b-button",{staticClass:"btn btn-sm btn-outline-success ml-2",attrs:{variant:"outline-success"},on:{click:function(e){return t.printAll()}}},[t._v("Print semua list pencairan")]):t._e()],1)]):t._e(),t._v(" "),21==t.userLogin||22==t.userLogin||23==t.userLogin?n("div",{staticClass:"col-sm-6"},[22==t.userLogin||23==t.userLogin?n("b-button",{staticClass:"btn btn-sm mt-4",attrs:{variant:"outline-success"},on:{click:function(e){return t.approveAll()}}},[t._v("Approve semua list pencairan")]):t._e(),t._v(" "),22==t.userLogin||23==t.userLogin?n("b-button",{staticClass:"btn btn-sm mt-4",attrs:{variant:"outline-success"},on:{click:function(e){return t.printAll()}}},[t._v("Print semua list pencairan")]):t._e()],1):t._e(),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("b-form-group",{attrs:{label:"Select Period","label-for":"name-input","invalid-feedback":"Select Period is required"}},[n("b-form-select",{attrs:{size:"sm",options:t.options},on:{change:function(e){return t.selectPeriod()}},scopedSlots:t._u([null==t.selected.value?{key:"first",fn:function(){return[n("b-form-select-option",{attrs:{value:t.selected.value}},[t._v(t._s(t.selected.text))])]},proxy:!0}:null],null,!0),model:{value:t.selectedPeriod,callback:function(e){t.selectedPeriod=e},expression:"selectedPeriod"}})],1),t._v(" "),24==t.userLogin?n("div",{staticClass:"mt-3"},[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-xl",modifiers:{"modal-xl":!0}}],staticClass:"btn btn-sm float-right",attrs:{variant:"outline-success"},on:{click:function(e){return t.runYearFilter()}}},[t._v("Add list pencairan")]),t._v(" "),n("b-button",{staticClass:"btn btn-sm float-right mr-2 mb-2",attrs:{variant:"outline-success"},on:{click:function(e){return t.refresh()}}},[t._v("Refresh")]),t._v(" "),n("b-modal",{attrs:{id:"modal-xl",size:"xl",title:"Tambah ke list pencairan","hide-footer":""}},[n("custom-table",{ref:"filterYear",attrs:{items:t.itemsAddListPencairan,fields:t.fieldsListPencairanFormat,html:t.key,actions:t.actions},scopedSlots:t._u([{key:"kode_rkat",fn:function(e){return[t._v("\n                    "+t._s(e.item.kode_rkat)+"\n                  ")]}},{key:"rkat",fn:function(e){return[t._v("\n                    "+t._s(e.item.nama_program)+"\n                  ")]}},{key:"biaya_program",fn:function(e){return[t._v("\n                    RP. "+t._s(t._f("currency")(e.item.biaya_program))+"\n                  ")]}},{key:"biaya_disetujui",fn:function(e){return[t.itemsAddListPencairan[e.index].isEdit?n("b-form-input",{on:{keypress:t.editListener},model:{value:t.biaya_disetujui_keuangan,callback:function(e){t.biaya_disetujui_keuangan=e},expression:"biaya_disetujui_keuangan"}}):t._e(),t._v(" "),t.itemsAddListPencairan[e.index].isEdit?n("b-form-text",{staticStyle:{"word-break":"break-all"},attrs:{id:"input-live-help"}},[t._v("RP."+t._s(t._f("currency")(t.biaya_disetujui_keuangan)))]):n("p",{staticStyle:{"word-break":"break-all"}},[t._v("\n                      RP."+t._s(t._f("currency")(e.item.biaya_disetujui))+"\n                    ")])]}},{key:"no_rek",fn:function(e){return[n("p",{staticStyle:{"word-break":"break-all"}},[t._v(t._s(e.item.no_rek))])]}},{key:"fullname",fn:function(e){return[n("p",[t._v(t._s(t._f("capitalize")(e.item.fullname)))]),t._v(" "),n("b-badge",{attrs:{variant:t._f("validasiStatus")(e.item.validasi_status)}},[t._v("\n                      "+t._s(t._f("validasiDetail")(e.item.validasi_status))+"\n                      "+t._s(e.item.nama_status)+"\n                    ")])]}},{key:"nama_struktur",fn:function(e){return["0"!==e.item.nama_struktur&&"0"==e.item.nama_struktur_child1&&"0"==e.item.nama_struktur_child2?n("p",{staticClass:"text-uppercase"},[t._v("\n                      "+t._s(e.item.nama_struktur)+"\n                    ")]):t._e(),t._v(" "),"0"!==e.item.nama_struktur&&"0"!==e.item.nama_struktur_child1&&"0"==e.item.nama_struktur_child2?n("p",{staticClass:"text-uppercase"},[t._v("\n                      "+t._s(e.item.nama_struktur)+"\n                    ")]):t._e(),t._v(" "),"0"!==e.item.nama_struktur&&"0"!==e.item.nama_struktur_child1&&"0"!==e.item.nama_struktur_child2?n("p",{staticClass:"text-uppercase"},[t._v("\n                      "+t._s(e.item.nama_struktur_child1)+"\n                    ")]):t._e()]}},{key:"created_at",fn:function(e){return[n("p",[t._v(t._s(t._f("convertDate")(e.item.created_at)))])]}},{key:"actions",fn:function(e){return[t.itemsAddListPencairan[e.index].isEdit?n("b-button",{staticClass:"btn btn-sm mb-1 mr-1",attrs:{variant:"success"},on:{click:function(n){return t.submitRowHandler(e)}}},[n("span",[t._v("Done")])]):n("b-button",{staticClass:"btn btn-sm mb-1 mr-1",attrs:{variant:"warning"},on:{click:function(n){return t.editRowHandler(e)}}},[n("span",[t._v("Edit")])]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-outline-info mb-1 mr-1",on:{click:function(n){return t.addToList(e.item)}}},[t._v("\n                      Add to list\n                    ")]),t._v(" "),n("NuxtLink",{key:"edit"+e.index,staticClass:"btn btn-sm btn-outline-info",attrs:{to:"edit/"+e.item.id_pengajuan}},[t._v("Detail")])]}}],null,!1,4190694315)})],1)],1):t._e()],1)]),t._v(" "),n("div",{staticClass:"ml-4"},[t._v("\n          Periode "+t._s(t.selected.text)+", dibuat pada\n          "+t._s(t._f("convertDate")(t.selected.created_at))+"\n        ")]),t._v(" "),n("custom-table",{attrs:{items:t.listPeriodePencairan,fields:t.fieldsListPencairanFormat,html:t.key,actions:t.actions},scopedSlots:t._u([{key:"kode_rkat",fn:function(e){return[t._v("\n            "+t._s(e.item.kode_rkat)+"\n          ")]}},{key:"rkat",fn:function(e){return[t._v("\n            "+t._s(e.item.nama_program)+"\n          ")]}},{key:"biaya_program",fn:function(e){return[t._v("\n            RP. "+t._s(t._f("currency")(e.item.biaya_program))+"\n          ")]}},{key:"biaya_disetujui",fn:function(e){return[t._v("\n            RP. "+t._s(t._f("currency")(e.item.biaya_disetujui))+"\n          ")]}},{key:"actions",fn:function(e){return[n("button",{staticClass:"btn btn-sm btn-outline-info mb-1 mr-1",on:{click:function(n){return t.deleteFromList(e.item.id_pengajuan)}}},[t._v("\n              Delete from list\n            ")]),t._v(" "),n("NuxtLink",{key:"edit"+e.index,staticClass:"btn btn-sm btn-outline-info",attrs:{to:"edit/"+e.item.id_pengajuan}},[t._v("Detail")])]}}],null,!1,913800980)})],1):t._e(),t._v(" "),21==t.userLogin?n("b-tab",{attrs:{title:"LPJ Kegiatan"}},[n("custom-table",{attrs:{items:t.listLPJKegiatan,fields:t.fieldsSekniv,html:t.key,actions:t.actions},scopedSlots:t._u([{key:"kode_rkat",fn:function(e){return[t._v("\n            "+t._s(e.item.kode_rkat)+"\n          ")]}},{key:"rkat",fn:function(e){return[t._v("\n            "+t._s(e.item.nama_program)+"\n          ")]}},{key:"biaya_program",fn:function(e){return[t._v("\n            RP. "+t._s(t._f("currency")(e.item.biaya_program))+"\n          ")]}},{key:"biaya_disetujui",fn:function(e){return[t._v("\n            RP. "+t._s(t._f("currency")(e.item.biaya_disetujui))+"\n          ")]}},{key:"pencairan",fn:function(e){return t._l(e.item.pencairan,(function(e){return n("ul",{key:e.index},[n("li",[n("a",{attrs:{href:"https://aperkat.uts.ac.id/api/public/file/"+e.images}},[t._v("Rp. "+t._s(t._f("currency")(e.nominal)))])])])}))}},{key:"lpj_keuangan",fn:function(e){return[e.item.lpj_keuangan?n("a",{attrs:{href:"https://aperkat.uts.ac.id/api/public/file/"+e.item.lpj_keuangan}},[t._v("Preview")]):t._e()]}},{key:"lpj_kegiatan",fn:function(e){return[e.item.lpj_kegiatan?n("a",{attrs:{href:"https://aperkat.uts.ac.id/api/public/file/"+e.item.lpj_kegiatan}},[t._v("Preview")]):t._e()]}},{key:"actions",fn:function(e){return[n("b-button",{staticClass:"btn btn-sm mr-1",attrs:{variant:"warning"},on:{click:function(n){return t.aprroveLPJKegiatan(e.item.id_pengajuan)}}},[t._v("\n              Terima")]),t._v(" "),n("b-button",{staticClass:"btn btn-sm my-1 mr-1",attrs:{variant:"danger"},on:{click:function(n){return t.declineLPJKegiatan(e.item.id_pengajuan)}}},[t._v("\n              Tolak")]),t._v(" "),n("NuxtLink",{key:"edit"+e.index,staticClass:"btn btn-sm btn-outline-info",attrs:{to:"edit/"+e.item.id_pengajuan}},[t._v("Detail")])]}}],null,!1,3350457937)})],1):t._e(),t._v(" "),21==t.userLogin?n("b-tab",{attrs:{title:"Belum LPJ Kegiatan"}},[n("custom-table",{attrs:{items:t.belumLPJKegiatan,fields:t.fieldsSekniv,html:t.key,actions:t.actions},scopedSlots:t._u([{key:"kode_rkat",fn:function(e){return[t._v("\n            "+t._s(e.item.kode_rkat)+"\n          ")]}},{key:"rkat",fn:function(e){return[t._v("\n            "+t._s(e.item.nama_program)+"\n          ")]}},{key:"biaya_program",fn:function(e){return[t._v("\n            RP. "+t._s(t._f("currency")(e.item.biaya_program))+"\n          ")]}},{key:"biaya_disetujui",fn:function(e){return[t._v("\n            RP. "+t._s(t._f("currency")(e.item.biaya_disetujui))+"\n          ")]}},{key:"pencairan",fn:function(e){return t._l(e.item.pencairan,(function(e){return n("ul",{key:e.index},[n("li",[n("a",{attrs:{href:"https://aperkat.uts.ac.id/api/public/file/"+e.images}},[t._v("Rp. "+t._s(t._f("currency")(e.nominal)))])])])}))}},{key:"lpj_keuangan",fn:function(e){return[e.item.lpj_keuangan?n("a",{attrs:{href:"https://aperkat.uts.ac.id/api/public/file/"+e.item.lpj_keuangan}},[t._v("Preview")]):t._e()]}},{key:"lpj_kegiatan",fn:function(e){return[e.item.lpj_kegiatan?n("a",{attrs:{href:"https://aperkat.uts.ac.id/api/public/file/"+e.item.lpj_kegiatan}},[t._v("Preview")]):t._e()]}},{key:"actions",fn:function(e){return[n("NuxtLink",{key:"edit"+e.index,staticClass:"btn btn-sm btn-outline-info",attrs:{to:"edit/"+e.item.id_pengajuan}},[t._v("Detail")])]}}],null,!1,3498907442)})],1):t._e(),t._v(" "),n("b-tab",{attrs:{title:"On Proggress"}},[n("custom-table",{attrs:{items:t.listOnProggress,fields:t.fields,html:t.key,actions:t.actions},scopedSlots:t._u([{key:"fullname",fn:function(e){return[n("p",[t._v(t._s(t._f("capitalize")(e.item.fullname)))]),t._v(" "),n("b-badge",{attrs:{variant:t._f("validasiStatus")(e.item.validasi_status)}},[t._v("\n              "+t._s(t._f("validasiDetail")(e.item.validasi_status))+"\n              "+t._s(e.item.nama_status)+"\n            ")])]}},{key:"nama_struktur",fn:function(e){return["0"!==e.item.nama_struktur&&"0"==e.item.nama_struktur_child1&&"0"==e.item.nama_struktur_child2?n("p",{staticClass:"text-uppercase"},[t._v("\n              "+t._s(e.item.nama_struktur)+"\n            ")]):t._e(),t._v(" "),"0"!==e.item.nama_struktur&&"0"!==e.item.nama_struktur_child1&&"0"==e.item.nama_struktur_child2?n("p",{staticClass:"text-uppercase"},[t._v("\n              "+t._s(e.item.nama_struktur)+"\n            ")]):t._e(),t._v(" "),"0"!==e.item.nama_struktur&&"0"!==e.item.nama_struktur_child1&&"0"!==e.item.nama_struktur_child2?n("p",{staticClass:"text-uppercase"},[t._v("\n              "+t._s(e.item.nama_struktur_child1)+"\n            ")]):t._e()]}},{key:"periode_pencairan",fn:function(e){return[n("p",[t._v("\n              "+t._s(t._f("capitalize")(e.item.periode_pencairan?e.item.periode_pencairan.period:"Sedang diperiksa"))+"\n            ")])]}},{key:"biaya_program",fn:function(e){return[n("p",[t._v("Rp. "+t._s(t._f("currency")(e.item.biaya_program)))])]}},{key:"biaya_disetujui",fn:function(e){return[n("p",[t._v("Rp. "+t._s(t._f("currency")(e.item.biaya_disetujui)))])]}},{key:"created_at",fn:function(e){return[n("p",[t._v(t._s(t._f("convertDate")(e.item.created_at)))])]}},{key:"actions",fn:function(e){return[n("NuxtLink",{key:"edit"+e.index,staticClass:"btn btn-sm btn-outline-info",attrs:{to:"edit/"+e.item.id_pengajuan}},[t._v("Detail")])]}}])})],1),t._v(" "),n("b-tab",{attrs:{title:"Completed"}},[n("b-col",{staticClass:"my-1 float-right"},[n("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[n("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"filter1",size:"sm","today-button":"","reset-button":"","close-button":"",locale:"IDN"},model:{value:t.filter1,callback:function(e){t.filter1=e},expression:"filter1"}}),t._v(" "),n("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"filter2",size:"sm","today-button":"","reset-button":"","close-button":"",locale:"IDN"},model:{value:t.filter2,callback:function(e){t.filter2=e},expression:"filter2"}})],1)],1),t._v(" "),n("custom-table",{attrs:{items:t.itemsSelesai,fields:t.fields,html:t.key,actions:t.actions},scopedSlots:t._u([{key:"fullname",fn:function(e){return[n("p",[t._v(t._s(t._f("capitalize")(e.item.fullname)))]),t._v(" "),n("b-badge",{attrs:{variant:t._f("validasiStatus")(e.item.validasi_status)}},[t._v("\n              "+t._s(t._f("validasiDetail")(e.item.validasi_status))+"\n              "+t._s(e.item.nama_status)+"\n            ")])]}},{key:"nama_struktur",fn:function(e){return["0"!==e.item.nama_struktur&&"0"==e.item.nama_struktur_child1&&"0"==e.item.nama_struktur_child2?n("p",{staticClass:"text-uppercase"},[t._v("\n              "+t._s(e.item.nama_struktur)+"\n            ")]):t._e(),t._v(" "),"0"!==e.item.nama_struktur&&"0"!==e.item.nama_struktur_child1&&"0"==e.item.nama_struktur_child2?n("p",{staticClass:"text-uppercase"},[t._v("\n              "+t._s(e.item.nama_struktur)+"\n            ")]):t._e(),t._v(" "),"0"!==e.item.nama_struktur&&"0"!==e.item.nama_struktur_child1&&"0"!==e.item.nama_struktur_child2?n("p",{staticClass:"text-uppercase"},[t._v("\n              "+t._s(e.item.nama_struktur_child1)+"\n            ")]):t._e()]}},{key:"created_at",fn:function(e){return[n("p",[t._v(t._s(t._f("convertDate")(e.item.created_at)))])]}},{key:"actions",fn:function(e){return[n("NuxtLink",{key:"edit"+e.index,staticClass:"btn btn-sm btn-outline-info",attrs:{to:"edit/"+e.item.id_pengajuan}},[t._v("Detail")])]}}])})],1)],1)],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CustomTable:n(352).default})}}]);